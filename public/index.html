<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Narzƒôdzie do automatycznego generowania i publikowania artyku≈Ç√≥w na WordPress na podstawie aktywno≈õci w repozytorium Git">
    <meta name="keywords" content="wordpress, git, publisher, generator, artyku≈Ç√≥w, automatyzacja">
    <meta name="author" content="WordPress Git Publisher">
    <title>WordPress Git Publisher - Automatyczne generowanie artyku≈Ç√≥w z Git</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üöÄ</text></svg>">
    
    <script>
      // Set configuration from environment
      window.APP_CONFIG = {
        API_URL: 'http://localhost:3001',
        OLLAMA_URL: 'http://localhost:11437',
        OLLAMA_MODEL: 'llama2',
        NODE_ENV: 'development'
      };
    </script>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="css/styles.css" as="style" onload="this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="css/styles.css"></noscript>
</head>
<body>
    <!-- Status Message Container -->
    <div id="statusMessage" class="status"></div>
    
    <div class="container">
        <header class="header">
            <h1 class="header__title">üöÄ WordPress Git Publisher</h1>
            <p class="header__subtitle">Automatyczne generowanie artyku≈Ç√≥w na podstawie aktywno≈õci Git z wykorzystaniem AI</p>
        </header>

        <div class="main-content">
            <!-- WordPress Configuration -->
            <div class="form-section">
                <h2><span class="icon">üîó</span> Konfiguracja WordPress</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="wordpressUrl">URL WordPress</label>
                        <div class="input-with-button">
                            <input type="url" id="wordpressUrl" placeholder="https://example.com" required>
                            <button type="button" id="goToWordPressBtn" class="btn-icon" title="Przejd≈∫ do panelu WordPress">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="wordpressUsername">Nazwa u≈ºytkownika</label>
                        <input type="text" id="wordpressUsername" placeholder="admin" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="wordpressPassword">Application Password</label>
                    <input type="password" id="wordpressPassword" placeholder="xxxx xxxx xxxx xxxx xxxx xxxx" required>
                </div>
                <button class="btn" id="testWordPressBtn">
                    <span id="testWpText">üîç Testuj po≈ÇƒÖczenie</span>
                </button>
            </div>

            <!-- Ollama Configuration -->
            <div class="form-section">
                <h2><span class="icon">ü§ñ</span> Konfiguracja Ollama</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="ollamaUrl">URL Ollama</label>
                        <input type="url" id="ollamaUrl" value="http://localhost:11434" required>
                    </div>
                    <div class="form-group">
                        <label for="ollamaModel">Model</label>
                        <select id="ollamaModel">
                            <option value="mistral:7b">Mistral 7B</option>
                            <option value="llama2:7b">Llama2 7B</option>
                            <option value="codellama:7b">CodeLlama 7B</option>
                        </select>
                    </div>
                </div>
                <button class="btn" id="testOllamaBtn">
                    <span id="testOllamaText">üîç Testuj Ollama</span>
                </button>
            </div>

            <!-- Prompt Configuration -->
            <div class="form-section">
                <h2><span class="icon">‚úèÔ∏è</span> Konfiguracja Promptu</h2>
                <div class="form-group">
                    <label for="defaultPrompt">Domy≈õlny prompt dla AI</label>
                    <textarea id="defaultPrompt" rows="6" class="code-editor" placeholder="Wprowad≈∫ domy≈õlny prompt..."></textarea>
                    <p class="help-text">Ten prompt bƒôdzie u≈ºywany jako podstawa do generowania artyku≈Ç√≥w. Mo≈ºesz go dostosowaƒá przed ka≈ºdym generowaniem.</p>
                </div>
                <button class="btn" id="savePromptBtn">
                    <span id="savePromptText">üíæ Zapisz prompt</span>
                </button>
            </div>

            <!-- Git Configuration -->
            <div class="form-section">
                <h2><span class="icon">üìÅ</span> Konfiguracja Git</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="githubPath">≈öcie≈ºka do folder√≥w GitHub</label>
                        <input type="text" id="githubPath" placeholder="/home/user/github" required>
                    </div>
                    <div class="form-group">
                        <label for="selectedDate">Data analizy</label>
                        <input type="date" id="selectedDate" required>
                    </div>
                </div>
                <button class="btn" id="scanGitBtn">
                    <span id="scanGitText">üìä Skanuj projekty Git</span>
                </button>
            </div>

            <!-- Git Projects Display -->
            <div id="gitProjectsSection" style="display: none;">
                <div class="form-section">
                    <h2><span class="icon">üìà</span> Znalezione projekty i commity</h2>
                    <div id="gitProjects" class="git-projects"></div>
                </div>
            </div>

            <!-- Article Generation -->
            <div class="form-section">
                <h2><span class="icon">‚úèÔ∏è</span> Generowanie artyku≈Çu</h2>
                <div class="form-group">
                    <label for="articleTitle">Tytu≈Ç artyku≈Çu (opcjonalny)</label>
                    <input type="text" id="articleTitle" placeholder="Zostanie wygenerowany automatycznie">
                </div>
                <div class="form-group">
                    <label for="customPrompt">Dodatkowe instrukcje dla AI (opcjonalne)</label>
                    <textarea id="customPrompt" rows="3" placeholder="Np. 'Napisz artyku≈Ç techniczny', 'Stw√≥rz podsumowanie zmian', itp."></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="articleCategory">Kategoria</label>
                        <input type="text" id="articleCategory" placeholder="Development, Updates, itp.">
                    </div>
                    <div class="form-group">
                        <label for="articleTags">Tagi (oddzielone przecinkami)</label>
                        <input type="text" id="articleTags" placeholder="git, development, progress">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <button class="btn" id="generateBtn" data-action="generate-article">
                            <span id="generateText">ü§ñ Generuj artyku≈Ç</span>
                        </button>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-success" id="generatePublishBtn" data-action="generate-and-publish" style="display: none;">
                            <span id="generatePublishText">üéØ Generuj i publikuj od razu</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Preview Section -->
            <div id="previewSection" style="display: none;">
                <div class="form-section">
                    <h2><span class="icon">üëÅÔ∏è</span> PodglƒÖd wygenerowanego artyku≈Çu</h2>
                    <div id="articlePreview" class="preview-content"></div>
                    <div class="form-row">
                        <div class="form-group">
                            <button class="btn" id="regenerateBtn" style="background: linear-gradient(135deg, #f39c12, #e67e22);">
                                üîÑ Regeneruj artyku≈Ç
                            </button>
                        </div>
                        <div class="form-group">
                            <button class="btn btn-success" id="publishBtn">
                                üöÄ Publikuj na WordPress
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Status Messages -->
            <div id="statusMessages"></div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/app.js" defer></script>
    <script>
        // Set default date when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            try {
                const today = new Date();
                const dateInput = document.getElementById('selectedDate');
                if (dateInput) {
                    const dateString = today.toISOString().split('T')[0];
                    dateInput.value = dateString;
                }
            } catch (error) {
                console.error('Error setting default date:', error);
            }
        });
    </script>
</body>
</html>
